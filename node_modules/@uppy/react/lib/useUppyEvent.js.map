{"version":3,"names":["useEffect","useState","useUppyEvent","uppy","event","callback","result","setResult","clear","handler","_len","arguments","length","args","Array","_key","on","cleanup","off"],"sources":["useUppyEvent.ts"],"sourcesContent":["import type { Meta, Body, Uppy, UppyEventMap } from '@uppy/core'\nimport { useEffect, useState } from 'react'\n\ntype EventResults<\n  M extends Meta,\n  B extends Body,\n  K extends keyof UppyEventMap<M, B>,\n> = Parameters<UppyEventMap<M, B>[K]>\n\nexport default function useUppyEvent<\n  M extends Meta,\n  B extends Body,\n  K extends keyof UppyEventMap<M, B>,\n>(\n  uppy: Uppy<M, B>,\n  event: K,\n  callback?: (...args: EventResults<M, B, K>) => void,\n): [EventResults<M, B, K> | [], () => void] {\n  const [result, setResult] = useState<EventResults<M, B, K> | []>([])\n  const clear = () => setResult([])\n\n  useEffect(() => {\n    const handler = ((...args: EventResults<M, B, K>) => {\n      setResult(args)\n      // eslint-disable-next-line node/no-callback-literal\n      callback?.(...args)\n    }) as UppyEventMap<M, B>[K]\n\n    uppy.on(event, handler)\n\n    return function cleanup() {\n      uppy.off(event, handler)\n    }\n  }, [uppy, event, callback])\n\n  return [result, clear]\n}\n"],"mappings":"AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAQ3C,eAAe,SAASC,YAAYA,CAKlCC,IAAgB,EAChBC,KAAQ,EACRC,QAAmD,EACT;EAC1C,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGN,QAAQ,CAA6B,EAAE,CAAC;EACpE,MAAMO,KAAK,GAAGA,CAAA,KAAMD,SAAS,CAAC,EAAE,CAAC;EAEjCP,SAAS,CAAC,MAAM;IACd,MAAMS,OAAO,GAAI,SAAAA,CAAA,EAAoC;MAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAhCC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;QAAJF,IAAI,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;MAAA;MACvBR,SAAS,CAACM,IAAI,CAAC;MACf;MACAR,QAAQ,YAARA,QAAQ,CAAG,GAAGQ,IAAI,CAAC;IACrB,CAA2B;IAE3BV,IAAI,CAACa,EAAE,CAACZ,KAAK,EAAEK,OAAO,CAAC;IAEvB,OAAO,SAASQ,OAAOA,CAAA,EAAG;MACxBd,IAAI,CAACe,GAAG,CAACd,KAAK,EAAEK,OAAO,CAAC;IAC1B,CAAC;EACH,CAAC,EAAE,CAACN,IAAI,EAAEC,KAAK,EAAEC,QAAQ,CAAC,CAAC;EAE3B,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC;AACxB","ignoreList":[]}